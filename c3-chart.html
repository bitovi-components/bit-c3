<html>
  <head>
    <title>C3-Chart Demo</title>
  </head>
  <body>
    <!-- Template to load -->
    <script type="text/stache" id="demo-html" can-autorender>
<can-import from="c3-chart" />
<c3-chart>
  <c3-data type="{type}" columns="{dataSources}" colors="{colors}" names="{names}">
    <c3-data-column value="{dataSource}" />
    <c3-data-name key="source1" value="{source1Name}" />
    <c3-data-type key="source2" value="{source2Type}" />
  </c3-data>
</c3-chart>
    </script>

    <!-- Loading Script -->
    <script src="node_modules/steal/steal.js" id="demo-source" main="can/view/autorender/">
import $ from "jquery";
import can from "can";

var dataSource = new can.List([
  'dataSource', 1, 2, 3
]);

var vm = $("#demo-html").viewModel();
vm.attr({
  dataSource: dataSource,
  dataSources: [
    ['source1', 3, 5, 1, 0],
    ['source2', 7, 6, 8, 4, 3]
  ],
  source2Type: 'spline',
  type: 'line',
  colors: {
    'dataSource': '#F00'
  },
  names: {
    'dataSource': 'namedDataSource'
  },
  source1Name: 'source1Name'
});

window.setTimeout(() => {
  can.batch.start();
  vm.attr('type', 'spline');
  vm.attr('colors', {
    'source2': '#00F'
  });
  vm.attr('source1Name', 'Kyle Data');
  vm.attr('names', {'dataSource': 'namedDataSource2'});
  vm.attr('source2Type', 'area');
  can.batch.stop();
}, 8000);

window.setInterval(() => {
  var val = Math.floor(Math.random() * 10) + 1;
  can.batch.start();
    // console.log('pushing', val);
    dataSource.push(val);
  can.batch.stop();
}, 5000);
    </script>
  </body>
</html>
  
