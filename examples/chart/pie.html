<html>
  <head>
    <title>Pie Chart</title>
  </head>
  <body>
    <!-- Template to load -->
    <script type="text/stache" id="demo-html" can-autorender>
<can-import from="c3-chart" />
<c3-chart>
  <c3-data type="{type}">
    {{#each dataColumns}}
      <c3-data-column value="{.}" />
    {{/each}}
  </c3-data>
</c3-chart>
    </script>

    <!-- Loading Script -->
    <script src="../../../node_modules/steal/steal.js" id="demo-source" main="can/view/autorender/">
import $ from "jquery";
import can from "can";

var type = "pie",
    data1 = new can.List(['data1', 30]),
    data2 = new can.List(['data2', 120]),
    setosa = new can.List(["setosa", 0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1, 0.2, 0.2, 0.1, 0.1, 0.2, 0.4, 0.4, 0.3, 0.3, 0.3, 0.2, 0.4, 0.2, 0.5, 0.2, 0.2, 0.4, 0.2, 0.2, 0.2, 0.2, 0.4, 0.1, 0.2, 0.2, 0.2, 0.2, 0.1, 0.2, 0.2, 0.3, 0.3, 0.2, 0.6, 0.4, 0.3, 0.2, 0.2, 0.2, 0.2]),
    versicolor = new can.List(["versicolor", 1.4, 1.5, 1.5, 1.3, 1.5, 1.3, 1.6, 1.0, 1.3, 1.4, 1.0, 1.5, 1.0, 1.4, 1.3, 1.4, 1.5, 1.0, 1.5, 1.1, 1.8, 1.3, 1.5, 1.2, 1.3, 1.4, 1.4, 1.7, 1.5, 1.0, 1.1, 1.0, 1.2, 1.6, 1.5, 1.6, 1.5, 1.3, 1.3, 1.3, 1.2, 1.4, 1.2, 1.0, 1.3, 1.2, 1.3, 1.3, 1.1, 1.3]),
    virginica = new can.List(["virginica", 2.5, 1.9, 2.1, 1.8, 2.2, 2.1, 1.7, 1.8, 1.8, 2.5, 2.0, 1.9, 2.1, 2.0, 2.4, 2.3, 1.8, 2.2, 2.3, 1.5, 2.3, 2.0, 2.0, 1.8, 2.1, 1.8, 1.8, 1.8, 2.1, 1.6, 1.9, 2.0, 2.2, 1.5, 1.4, 2.3, 2.4, 1.8, 1.8, 2.1, 2.4, 2.3, 1.9, 2.3, 2.5, 2.3, 1.9, 2.0, 2.3, 1.8]);

var vm = $("#demo-html").viewModel();
vm.attr({
  dataColumns: new can.List([data1, data2]),
  type: type
});

window.setTimeout(() => {
  can.batch.start();
  vm.attr('dataColumns').push(setosa);
  vm.attr('dataColumns').push(versicolor);
  vm.attr('dataColumns').push(virginica);
  can.batch.stop();
}, 1500);

window.setTimeout(() => {
  can.batch.start();
  vm.attr('dataColumns').shift();
  vm.attr('dataColumns').shift();
  can.batch.stop();
}, 2500);
    </script>
  </body>
</html>
  
